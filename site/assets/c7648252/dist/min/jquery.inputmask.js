/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.3.14
*/
(function(b){void 0==b.fn.inputmask&&(b.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:b.noop,onincomplete:b.noop,oncleared:b.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:b.noop,onKeyDown:b.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:b.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,
definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,
RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(b,F,G,K){var H=b.length;F||("*"==G?H=K.length+1:1<G&&(H+=b.length*(G-1)));return H}},val:b.fn.val,escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},b.fn.inputmask=function(E,F){function G(d,e){var a=c.aliases[d];return a?(a.alias&&G(a.alias),b.extend(!0,
c,a),b.extend(!0,c,e),!0):!1}function K(d){var e=!1,a=0,g=c.greedy,m=c.repeat;"*"==m&&(g=!1);1==d.length&&!1==g&&(c.placeholder="");for(var d=b.map(d.split(""),function(b){var l=[];if(b==c.escapeChar)e=true;else if(b!=c.optionalmarker.start&&b!=c.optionalmarker.end||e){var m=c.definitions[b];if(m&&!e)for(b=0;b<m.cardinality;b++)l.push(B(a+b));else{l.push(b);e=false}a=a+l.length;return l}}),l=d.slice(),h=1;h<m&&g;h++)l=l.concat(d.slice());return{mask:l,repeat:m,greedy:g}}function H(d){var e=!1,a=!1,
g=!1;return b.map(d.split(""),function(b){var l=[];if(b==c.escapeChar)a=!0;else if(b==c.optionalmarker.start&&!a)g=e=!0;else if(b==c.optionalmarker.end&&!a)e=!1,g=!0;else{var d=c.definitions[b];if(d&&!a){for(var n=d.prevalidator,q=n?n.length:0,r=1;r<d.cardinality;r++){var k=q>=r?n[r-1]:[],o=k.validator,k=k.cardinality;l.push({fn:o?"string"==typeof o?RegExp(o):new function(){this.test=o}:/./,cardinality:k?k:1,optionality:e,newBlockMarker:!0==e?g:!1,offset:0,casing:d.casing,def:d.definitionSymbol|b});
!0==e&&(g=!1)}l.push({fn:d.validator?"string"==typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,optionality:e,newBlockMarker:g,offset:0,casing:d.casing,def:d.definitionSymbol|b})}else l.push({fn:null,cardinality:0,optionality:e,newBlockMarker:g,offset:0,casing:null,def:b}),a=!1;g=!1;return l}})}function M(){function d(a){var b=a.length;for(i=0;i<b&&a.charAt(i)!=c.optionalmarker.start;i++);var d=[a.substring(0,i)];i<b&&d.push(a.substring(i+
1,b));return d}function e(m,l){var h=0,n=0,q=l.length;for(i=0;i<q&&!(l.charAt(i)==c.optionalmarker.start&&h++,l.charAt(i)==c.optionalmarker.end&&n++,0<h&&h==n);i++);h=[l.substring(0,i)];i<q&&h.push(l.substring(i+1,q));var r=d(h[0]);if(1<r.length){if(q=m+r[0]+(c.optionalmarker.start+r[1]+c.optionalmarker.end)+(1<h.length?h[1]:""),-1==b.inArray(q,g)&&(g.push(q),n=K(q),a.push({mask:q,_buffer:n.mask,buffer:n.mask.slice(),tests:H(q),lastValidPosition:void 0,greedy:n.greedy,repeat:n.repeat})),q=m+r[0]+
(1<h.length?h[1]:""),-1==b.inArray(q,g)&&(g.push(q),n=K(q),a.push({mask:q,_buffer:n.mask,buffer:n.mask.slice(),tests:H(q),lastValidPosition:void 0,greedy:n.greedy,repeat:n.repeat})),1<d(r[1]).length&&e(m+r[0],r[1]+h[1]),1<h.length&&1<d(h[1]).length)e(m+r[0]+(c.optionalmarker.start+r[1]+c.optionalmarker.end),h[1]),e(m+r[0],h[1])}else q=m+h,-1==b.inArray(q,g)&&(g.push(q),n=K(q),a.push({mask:q,_buffer:n.mask,buffer:n.mask.slice(),tests:H(q),lastValidPosition:void 0,greedy:n.greedy,repeat:n.repeat}))}
var a=[],g=[];b.isArray(c.mask)?b.each(c.mask,function(a,c){e("",c.toString())}):e("",c.mask.toString());return c.greedy?a:a.sort(function(a,c){return a.mask.length-c.mask.length})}function B(b){return c.placeholder.charAt(b%c.placeholder.length)}function I(d,e){function a(){return d[e]}function g(){return a().tests}function m(){return a()._buffer}function l(){return a().buffer}function h(j,N,t,m){function x(a,b){for(var j=r(a),d=N?1:0,e="",l=b.buffer,m=b.tests[j].cardinality;m>d;m--)e+=L(l,j-(m-
1));N&&(e+=N);return null!=b.tests[j].fn?b.tests[j].fn.test(e,l,a,t,c):!1}if(t=!0===t){var g=x(j,a());!0===g&&(g={pos:j});return g}var h=[],g=!1,n=e;b.each(d,function(a){e=a;var b=j;if(n!=e&&!q(j)){if(N==this._buffer[b]||N==c.skipOptionalPartCharacter)return h.push({activeMasksetIndex:a,result:{refresh:!0,c:this._buffer[b]}}),this.lastValidPosition=b,!1;d[n].lastValidPosition>=b?this.lastValidPosition=m?k()+1:-1:b=m?C(j):o(j)}if((void 0==this.lastValidPosition&&b==(m?C(k()):o(-1))||m||c.numericInput?
this.lastValidPosition<=c.numericInput?k():o(b):this.lastValidPosition>=C(b))&&0<=b&&b<k()){g=x(b,this);if(!1!==g&&(!0===g&&(g={pos:b}),b=g.pos||b,void 0==this.lastValidPosition||(m?c.greedy?this.lastValidPosition>b:b==l().length-1:this.lastValidPosition<b)))this.lastValidPosition=c.numericInput?0:b;h.push({activeMasksetIndex:a,result:g})}});e=n;return h}function n(j){var N=e,t={activeMasksetIndex:0,lastValidPosition:j?k()+1:-1};b.each(d,function(a){if(void 0!=this.lastValidPosition&&(j||c.numericInput?
this.lastValidPosition<t.lastValidPosition:this.lastValidPosition>t.lastValidPosition))t.activeMasksetIndex=a,t.lastValidPosition=this.lastValidPosition});e=t.activeMasksetIndex;N!=e&&(j?G(l(),0,C(t.lastValidPosition)):G(l(),o(t.lastValidPosition),k()),a().writeOutBuffer=!0)}function q(a){a=r(a);a=g()[a];return void 0!=a?a.fn:!1}function r(a){return a%g().length}function k(){return c.getMaskLength(m(),a().greedy,a().repeat,l(),c)}function o(a){var b=k();if(a>=b)return b;for(;++a<b&&!q(a););return a}
function C(a){if(0>=a)return 0;for(;0<--a&&!q(a););return a}function y(a,b,c,d,e){d&&(b=J(a,b,e));d=g()[r(b)];e=c;if(void 0!=e)switch(d.casing){case "upper":e=c.toUpperCase();break;case "lower":e=c.toLowerCase()}a[b]=e}function L(a,b,c){c&&(b=J(a,b));return a[b]}function J(a,b,c){if(c)for(;0>b&&a.length<k();){c=m().length-1;for(b=m().length;void 0!==m()[c];)a.unshift(m()[c--])}else for(;void 0==a[b]&&a.length<k();)for(c=0;void 0!==m()[c];)a.push(m()[c++]);return b}function A(a,b,c){a._valueSet(b.join(""));
void 0!=c&&v(a,c)}function G(a,b,c){for(var e=k();b<c&&b<e;b++)y(a,b,L(m().slice(),b,!0))}function E(a,b){var c=r(b);y(a,b,L(m(),c))}function H(j,l,g,h){var x=b(j).data("_inputmask").isRTL,h=void 0!=h?h.slice():I(j._valueGet(),x).split("");b.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=x&&!0==b.greedy?k():-1});!0!==g&&(e=0);l&&j._valueSet("");x&&!c.numericInput&&(h=h.reverse());var n=k();b.each(h,function(e,d){var k=x&&!0==a().greedy?c.numericInput?n:n-e:e,h=a().lastValidPosition,
o=a().p,o=void 0==h?k:o,h=void 0==h?-1:h;(g&&q(x?k-1:k)||(d!=L(m().slice(),x?k-1:k,!0)||q(x?k-1:k))&&-1==b.inArray(d,m().slice(h+1,o)))&&b(j).trigger("keypress",[!0,d.charCodeAt(0),l,g,k,x])});!0===g&&(a().lastValidPosition=x?c.numericInput?0:o(a().p):C(a().p))}function F(a){return b.inputmask.escapeRegex.call(this,a)}function I(a,b){return b?a.replace(RegExp("^("+F(m().join(""))+")*"),""):a.replace(RegExp("("+F(m().join(""))+")*$"),"")}function K(a){var c=l(),e=c.slice(),d,k;if(b(a).data("_inputmask").isRTL)for(k=
0;k<=e.length-1;k++)if(d=r(k),g()[d].optionality)if(!q(k)||!h(k,c[k],!0))e.splice(0,1);else break;else break;else for(k=e.length-1;0<=k;k--)if(d=r(k),g()[d].optionality)if(!q(k)||!h(k,c[k],!0))e.pop();else break;else break;A(a,e)}function M(a,c){return g()&&(!0===c||!a.hasClass("hasDatepicker"))?b.map(l(),function(a,b){return q(b)&&h(b,a,!0)?a:null}).join(""):a[0]._valueGet()}function v(a,e,d){var k=a.jquery&&0<a.length?a[0]:a;if("number"==typeof e)b(a).is(":visible")&&(d="number"==typeof d?d:e,!1==
c.insertMode&&e==d&&d++,k.setSelectionRange?(k.selectionStart=e,k.selectionEnd=Q?e:d):k.createTextRange&&(a=k.createTextRange(),a.collapse(!0),a.moveEnd("character",d),a.moveStart("character",e),a.select()));else{if(!b(a).is(":visible"))return{begin:0,end:0};k.setSelectionRange?(e=k.selectionStart,d=k.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1E5),d=e+a.text.length);return{begin:e,end:d}}}function R(a){var c=
!1,l=0,g=e;b.each(d,function(b,d){e=b;var g=C(k());if(void 0!=d.lastValidPosition&&d.lastValidPosition>=l&&d.lastValidPosition==g){for(var h=!0,o=0;o<=g;o++){var n=q(o),v=r(o);if(n&&(void 0==a[o]||a[o]==B(o))||!n&&a[o]!=m()[v]){h=!1;break}}if(c=c||h)return!1}l=d.lastValidPosition});e=g;return c}this.unmaskedvalue=function(a,b){return M(a,b)};this.isComplete=function(a){return R(a)};this.mask=function(j){function F(a){a=b._data(a).events;b.each(a,function(a,c){b.each(c,function(a,b){if("inputmask"==
b.namespace){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function t(a){var c;Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(a,"value"));if(c&&c.get)a._valueGet||(a._valueGet=c.get,a._valueSet=c.set,Object.defineProperty(a,"value",{get:function(){var a=b(this),c=b(this).data("_inputmask"),d=c.masksets,e=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=
d[e]._buffer.join("")?this._valueGet():""},set:function(a){this._valueSet(a);b(this).triggerHandler("setvalue.inputmask")}}));else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(a._valueGet=a.__lookupGetter__("value"),a._valueSet=a.__lookupSetter__("value"),a.__defineGetter__("value",function(){var a=b(this),c=b(this).data("_inputmask"),d=c.masksets,e=c.activeMasksetIndex;return c&&c.opts.autoUnmask?a.inputmask("unmaskedvalue"):this._valueGet()!=d[e]._buffer.join("")?this._valueGet():
""}),a.__defineSetter__("value",function(a){this._valueSet(a);b(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return this.value},a._valueSet=function(a){this.value=a}),!0!=b.fn.val.inputmaskpatch)b.fn.val=function(){if(arguments.length==0){var a=b(this);if(a.data("_inputmask")){if(a.data("_inputmask").opts.autoUnmask)return a.inputmask("unmaskedvalue");var a=b.inputmask.val.apply(a),c=b(this).data("_inputmask");return a!=c.masksets[c.activeMasksetIndex]._buffer.join("")?
a:""}return b.inputmask.val.apply(a)}var d=arguments;return this.each(function(){var a=b(this),c=b.inputmask.val.apply(a,d);a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask");return c})},b.extend(b.fn.val,{inputmaskpatch:!0})}function M(a,b){if(c.numericInput&&""!=c.radixPoint&&!1===c.skipRadixDance){var d=a._valueGet().indexOf(c.radixPoint);p=b.begin<=d||b.end<=d||-1==d}}function x(b,c,d){for(var e=l();!q(b)&&0<=b-1;)b--;for(var f=b;f<c&&f<k();f++)if(q(f)){E(e,f);var n=o(f),j=L(e,n);if(j!=
B(n))if(n<k()&&!1!==h(f,j,!0,p)&&g()[r(f)].def==g()[r(n)].def)y(e,f,L(e,n),!0,p),n<c&&E(e,n);else if(q(f))break}else E(e,f);void 0!=d&&y(e,p?c:C(c),d);if(!1==a().greedy){c=I(e.join(""),p).split("");e.length=c.length;f=0;for(d=e.length;f<d;f++)e[f]=c[f];0==e.length&&(a().buffer=m().slice())}return b}function O(b,c,e,d){for(var f=l();b<=c&&b<k();b++)if(q(b)){var n=L(f,b,!0);y(f,b,e,!0,p);if(n!=B(b))if(e=o(b),e<k())if(!1!==h(e,n,!0,p)&&g()[r(b)].def==g()[r(e)].def)e=n;else if(q(e))break;else e=n;else break;
else if(e=n,!0!==d)break}else E(f,b);d=f.length;if(!1==a().greedy){e=I(f.join(""),p).split("");f.length=e.length;b=0;for(n=f.length;b<n;b++)f[b]=e[b];0==f.length&&(a().buffer=m().slice())}return c-(d-f.length)}function Q(g){S=!1;var D=this,h=g.keyCode,s=v(D);M(D,s);if(h==c.keyCode.BACKSPACE||h==c.keyCode.DELETE||Z&&127==h||g.ctrlKey&&88==h){g.preventDefault();var f=s.begin;if(0==s.begin&&s.end==k())G(l(),s.begin,s.end),b.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=
p?k():0});else if(1<s.end-s.begin||1==s.end-s.begin&&c.insertMode){G(l(),s.begin,s.end);var j=k();if(!1==c.greedy)p?O(0,s.end-1,B(s.end),!0):x(s.begin,j);else for(var r=s.begin;r<s.end;r++)q(r)&&(p?O(0,s.end-1,B(s.end),!0):x(s.begin,j));H(D,!1,!0,l())}else b.each(d,function(b){e=b;f=V?s.end:s.begin;var b=l(),d=p?C(k()+1):o(-1),g=k();if(h==c.keyCode.DELETE){if(p?f>d:f<d)f=d;if(f<g&&(c.numericInput&&""!=c.radixPoint&&b[f]==c.radixPoint?(f=b.length-1==f?f:o(f),f=x(f,g)):p?(f=O(0,f,B(f),!0),f=o(f)):f=
x(f,g),void 0!=a().lastValidPosition))-1!=a().lastValidPosition&&l()[a().lastValidPosition]==m()[a().lastValidPosition]&&(a().lastValidPosition=p?o(a().lastValidPosition):0==a().lastValidPosition?-1:C(a().lastValidPosition)),(p?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=!0,a().p=f)}else if(h==c.keyCode.BACKSPACE)if(p?f<=d:f>d){if(f-=1,c.numericInput&&""!=c.radixPoint&&b[f]==c.radixPoint?(f=O(0,b.length-1==f?f:f-1,B(f),!0),f++):p?(f=
O(0,f,B(f),!0),f=b[f+1]==c.radixPoint?f+1:o(f)):f=x(f,g),void 0!=a().lastValidPosition)-1!=a().lastValidPosition&&l()[a().lastValidPosition]==m()[a().lastValidPosition]&&(a().lastValidPosition=p?o(a().lastValidPosition):0==a().lastValidPosition?-1:C(a().lastValidPosition)),(p?a().lastValidPosition>d:a().lastValidPosition<d)?(a().lastValidPosition=void 0,a().p=d):(a().writeOutBuffer=!0,a().p=f)}else 0<e&&(a().lastValidPosition=void 0,a().writeOutBuffer=!0,a().p=d,e=0,a().buffer=m().slice(),a().p=p?
C(k()+1):o(-1),a().lastValidPosition=void 0)});n(p);A(D,l(),a().p);D._valueGet()==m().join("")&&b(D).trigger("cleared");c.showTooltip&&u.prop("title",a().mask)}else h==c.keyCode.END||h==c.keyCode.PAGE_DOWN?setTimeout(function(){var b=p?a().lastValidPosition:o(a().lastValidPosition);!c.insertMode&&(b==k()&&!g.shiftKey)&&b--;v(D,g.shiftKey?s.begin:b,b)},0):h==c.keyCode.HOME&&!g.shiftKey||h==c.keyCode.PAGE_UP?v(D,0,g.shiftKey?s.begin:0):h==c.keyCode.ESCAPE?(D._valueSet(a().undoBuffer),H(D,!0,!0)):h==
c.keyCode.INSERT&&!g.shiftKey&&!g.ctrlKey?(c.insertMode=!c.insertMode,v(D,!c.insertMode&&s.begin==k()?s.begin-1:s.begin)):!1==c.insertMode&&!g.shiftKey&&(h==c.keyCode.RIGHT?setTimeout(function(){var a=v(D);v(D,a.begin)},0):h==c.keyCode.LEFT&&setTimeout(function(){var a=v(D);v(D,a.begin-1)},0));j=v(D);c.onKeyDown.call(this,g,l(),c);v(D,j.begin,j.end);T=-1!=b.inArray(h,c.ignorables)}function Y(g,m,j,s,f,r,u){p=void 0==u?p:u;if(void 0==j&&S)return!1;S=!0;var E=b(this),g=g||window.event,j=j||g.which||
g.charCode||g.keyCode,t=String.fromCharCode(j);c.numericInput&&(t==c.radixPoint&&!0!==m)&&(u=this._valueGet().indexOf(c.radixPoint),v(this,o(-1!=u?u:k())));if((!g.ctrlKey||!g.altKey)&&(g.ctrlKey||g.metaKey||T)&&!0!==m)return!0;if(j){var z,F;m?(j=f?r:c.numericInput?o(a().p):a().p,z={begin:j,end:j}):z=v(this);var I=1<z.end-z.begin||1==z.end-z.begin&&c.insertMode,K=!1;I&&(j=e,b.each(d,function(b){e=b;a().undoBuffer=l().join("");b=z.end<k()?z.end:k();a().lastValidPosition>z.begin&&a().lastValidPosition<
b?a().lastValidPosition=p?o(b):C(z.begin):K=true;G(l(),z.begin,b);var d=k();if(c.greedy==false)p?O(0,b-1,B(b),true):x(z.begin,d);else for(var f=z.begin;f<b;f++)q(f)&&(p?O(0,b-1,B(b-1),true):x(z.begin,d))}),!0===K&&(e=j,H(this,!1,!0,l()),c.insertMode||b.each(d,function(b){e=b;p?x(0,posend):O(z.begin,k(),B(z.begin),true);a().lastValidPosition=p?C(a().lastValidPosition):o(a().lastValidPosition)})),e=j);if(p){var w=C(I?z.begin:z.end),j=h(w,t,f,p);!0===f&&(j=[{activeMasksetIndex:e,result:j}]);b.each(j,
function(b,d){e=d.activeMasksetIndex;a().writeOutBuffer=true;var f=d.result;if(f!==false){var g=false,h=l();if(f!==true){g=f.refresh;w=f.pos!=void 0?f.pos:w;t=f.c!=void 0?f.c:t}if(g!==true){var g=k(),j=o(-1),f=j;if(c.insertMode==true){if(a().greedy==true)for(var m=h.slice();L(m,f,true)!=B(f)&&f<=w;)f=f==g?g+1:o(f);if(f<=w&&(a().greedy||h.length<g||L(h,w)==B(w))){if(h[j]!=B(j)&&h.length<g){h=J(h,-1,p);if((I?z.begin:z.end)!=0)w=w+h}x(f,w,t);h=a().lastValidPosition;f=C(h);h<=w&&L(l(),f)!=B(f)&&(a().lastValidPosition=
f)}else a().writeOutBuffer=false}else y(h,w,t,true,p)}a().p=w}})}else w=o(z.begin-1),j=h(w,t,f,p),!0===f&&(j=[{activeMasksetIndex:e,result:j}]),b.each(j,function(b,d){e=d.activeMasksetIndex;a().writeOutBuffer=true;var f=d.result;if(f!==false){var g=false,h=l();if(f!==true){g=f.refresh;w=f.pos!=void 0?f.pos:w;t=f.c!=void 0?f.c:t}if(g!==true)if(c.insertMode==true){f=k();for(g=h.slice();L(g,f,true)!=B(f)&&f>=w;)f=f==0?-1:C(f);if(f>=w){O(w,h.length,t);h=a().lastValidPosition;f=o(h);f!=k()&&(h>=w&&L(l(),
f)!=B(f))&&(a().lastValidPosition=f)}else a().writeOutBuffer=false}else y(h,w,t,true,p);a().p=o(w)}});!0!==f&&n(p);if(!1!==s&&(b.each(j,function(a,b){if(b.activeMasksetIndex==e){F=b;return false}}),void 0!=F)){var M=this;setTimeout(function(){c.onKeyValidation.call(M,F.result,c)},0);if(a().writeOutBuffer&&!1!==F.result){var N=l();A(this,N,m?void 0:c.numericInput&&p?o(a().p):a().p);!0!==m&&setTimeout(function(){R(N)&&E.trigger("complete")},0)}else I&&(a().buffer=a().undoBuffer.split(""))}c.showTooltip&&
E.prop("title",a().mask);g.preventDefault()}}function X(d){var e=b(this),g=d.keyCode,h=l(),f=v(this);c.onKeyUp.call(this,d,h,c);v(this,f.begin,f.end);g==c.keyCode.TAB&&(e.hasClass("focus.inputmask")&&0==this._valueGet().length&&c.showMaskOnFocus)&&(h=m().slice(),A(this,h),p||v(this,0),a().undoBuffer=this._valueGet())}var u=b(j);if(u.is(":input")){u.data("_inputmask",{masksets:d,activeMasksetIndex:e,opts:c,isRTL:!1});c.showTooltip&&u.prop("title",a().mask);a().greedy=a().greedy?a().greedy:0==a().repeat;
if(null!=u.attr("maxLength")){var P=u.prop("maxLength");-1<P&&b.each(d,function(a,b){"*"==b.repeat&&(b.repeat=P)});k()>P&&-1<P&&(P<m().length&&(m().length=P),!1==a().greedy&&(a().repeat=Math.round(P/m().length)),u.prop("maxLength",2*k()))}t(j);a().undoBuffer=j._valueGet();var S=!1,T=!1,p=!1;if("rtl"==j.dir||c.numericInput){("rtl"==j.dir||c.numericInput&&c.rightAlignNumerics)&&u.css("text-align","right");j.dir="ltr";u.removeAttr("dir");var U=u.data("_inputmask");U.isRTL=!0;u.data("_inputmask",U);p=
!0}u.unbind(".inputmask");u.removeClass("focus.inputmask");u.closest("form").bind("submit",function(){u[0]._valueGet&&u[0]._valueGet()!=a().undoBuffer&&u.change()}).bind("reset",function(){b.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=-1})});u.bind("mouseenter.inputmask",function(){!b(this).hasClass("focus.inputmask")&&c.showMaskOnHover&&this._valueGet()!=l().join("")&&A(this,l())}).bind("blur.inputmask",function(){var g=b(this),h=this._valueGet(),j=l();g.removeClass("focus.inputmask");
h!=a().undoBuffer&&g.change();c.clearMaskOnLostFocus&&""!=h&&(h==m().join("")?this._valueSet(""):K(this));R(j)||(g.trigger("incomplete"),c.clearIncomplete&&(b.each(d,function(a,b){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=p?k():0}),e=0,c.clearMaskOnLostFocus?this._valueSet(""):(j=m().slice(),A(this,j))))}).bind("focus.inputmask",function(){var d=b(this),e=this._valueGet();c.showMaskOnFocus&&!d.hasClass("focus.inputmask")&&(!c.showMaskOnHover||c.showMaskOnHover&&""==e)&&this._valueGet()!=
l().join("")&&A(this,l(),a().p);d.addClass("focus.inputmask");a().undoBuffer=this._valueGet();d.click()}).bind("mouseleave.inputmask",function(){var a=b(this);c.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||(this._valueGet()==m().join("")||""==this._valueGet()?this._valueSet(""):K(this)))}).bind("click.inputmask",function(){var d=this;setTimeout(function(){var e=v(d),g=l();if(e.begin==e.end){var j=e.begin,f=a().lastValidPosition;M(d,e);p?(e=c.numericInput?!1===c.skipRadixDance&&""!=c.radixPoint&&
-1!=b.inArray(c.radixPoint,g)?b.inArray(c.radixPoint,g):k():C((void 0==f?k():f)+1),v(d,j>e&&(!1!==h(j,g[j],!0,p)||!q(j))?j:e)):(e=o(void 0==f?-1:f),v(d,j<e&&(!1!==h(j,g[j],!0,p)||!q(j))?j:e))}},0)}).bind("dblclick.inputmask",function(){var b=this;void 0!=a().lastValidPosition&&setTimeout(function(){p?v(b,C(a().lastValidPosition),k()):v(b,0,o(a().lastValidPosition))},0)}).bind("keydown.inputmask",Q).bind("keypress.inputmask",Y).bind("keyup.inputmask",X).bind($+".inputmask dragdrop.inputmask drop.inputmask",
function(){var a=this,c=b(a);setTimeout(function(){H(a,!0,!1);R(l())&&c.trigger("complete");c.click()},0)}).bind("setvalue.inputmask",function(){a().undoBuffer=this._valueGet();H(this,!0);this._valueGet()==m().join("")&&this._valueSet("")}).bind("complete.inputmask",c.oncomplete).bind("incomplete.inputmask",c.onincomplete).bind("cleared.inputmask",c.oncleared);H(j,!0,!1);var W;try{W=document.activeElement}catch(aa){}W===j?(u.addClass("focus.inputmask"),v(j,a().p)):c.clearMaskOnLostFocus?l().join("")==
m().join("")?j._valueSet(""):K(j):A(j,l());F(j)}};return this}var c=b.extend(!0,{},b.inputmask.defaults,F),J=null!==navigator.userAgent.match(/msie 10/i),Z=null!==navigator.userAgent.match(/iphone/i),Q=null!==navigator.userAgent.match(/android.*safari.*/i),$=function(b){var c=document.createElement("input"),b="on"+b,a=b in c;a||(c.setAttribute(b,"return;"),a="function"==typeof c[b]);return a}("paste")&&!J?"paste":"input",V,y,A=0;Q&&(J=navigator.userAgent.match(/safari.*/i),V=537>=parseInt(RegExp(/[0-9]+/).exec(J)));
if("string"===typeof E)switch(E){case "mask":return G(c.alias,F),y=M(),this.each(function(){I(b.extend(true,{},y),0).mask(this)});case "unmaskedvalue":return J=b(this),J.data("_inputmask")?(y=J.data("_inputmask").masksets,A=J.data("_inputmask").activeMasksetIndex,c=J.data("_inputmask").opts,I(y,A).unmaskedvalue(J)):J.val();case "remove":return this.each(function(){var d=b(this);if(d.data("_inputmask")){y=d.data("_inputmask").masksets;A=d.data("_inputmask").activeMasksetIndex;c=d.data("_inputmask").opts;
this._valueSet(I(y,A).unmaskedvalue(d,true));d.removeData("_inputmask");d.unbind(".inputmask");d.removeClass("focus.inputmask");var e;Object.getOwnPropertyDescriptor&&(e=Object.getOwnPropertyDescriptor(this,"value"));if(e&&e.get)this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet});else if(document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet){this.__defineGetter__("value",this._valueGet);this.__defineSetter__("value",this._valueSet)}try{delete this._valueGet;
delete this._valueSet}catch(a){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(y=this.data("_inputmask").masksets,A=this.data("_inputmask").activeMasksetIndex,y[A]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return y=this.data("_inputmask").masksets,A=this.data("_inputmask").activeMasksetIndex,c=this.data("_inputmask").opts,I(y,A).isComplete(this[0]._valueGet().split(""));
default:return G(E,F)||(c.mask=E),y=M(),this.each(function(){I(b.extend(true,{},y),A).mask(this)})}else{if("object"==typeof E)return c=b.extend(!0,{},b.inputmask.defaults,E),G(c.alias,E),y=M(),this.each(function(){I(b.extend(true,{},y),A).mask(this)});if(void 0==E)return this.each(function(){var d=b(this).attr("data-inputmask");if(d&&d!="")try{var d=d.replace(RegExp("'","g"),'"'),e=b.parseJSON("{"+d+"}");b.extend(true,e,F);c=b.extend(true,{},b.inputmask.defaults,e);G(c.alias,e);c.alias=void 0;b(this).inputmask(c)}catch(a){}})}return this})})(jQuery);
